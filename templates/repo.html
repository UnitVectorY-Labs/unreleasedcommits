<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Name}} - Unreleased Commits</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <a href="index.html"><h1>Unreleased Commits - {{.Owner}}</h1></a>
    </header>
    <main class="container">
            <div class="repo-info">
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">Repository:</span>
                        <span class="value"><a href="{{.RepositoryURL}}" target="_blank" class="github-link">{{.Name}}</a></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Default Branch:</span>
                        <span class="value"><a href="{{.RepositoryURL}}/tree/{{.DefaultBranch}}" target="_blank" class="github-link">{{.DefaultBranch}}</a></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Latest Release:</span>
                        <span class="value"><a href="{{.RepositoryURL}}/releases/tag/{{.LatestReleaseTag}}" target="_blank" class="github-link">{{.LatestReleaseTag}}</a></span>
                    </div>
                    <div class="info-item">
                        <span class="label">Release Date:</span>
                        <span class="value">{{.LatestReleaseTime.Format "January 2, 2006"}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Unreleased Commits:</span>
                        <span class="value">{{if gt (len .UnreleasedCommits) 0}}<a href="{{.RepositoryURL}}/compare/{{.LatestReleaseTag}}...{{.DefaultBranch}}" target="_blank" class="github-link">{{len .UnreleasedCommits}}</a>{{else}}{{len .UnreleasedCommits}}{{end}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Days Behind:</span>
                        <span class="value">{{.DaysBehind}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Days Since Release:</span>
                        <span class="value">{{.DaysSinceRelease}}</span>
                    </div>
                </div>
            </div>

            {{if .UnreleasedCommits}}
            <h2>Unreleased Commits</h2>
            <div class="commits-list">
                {{range .UnreleasedCommits}}
                {{if .IsMerge}}
                <details class="commit-card merge-commit">
                    <summary class="commit-header">
                        <a href="{{.URL}}" target="_blank" class="commit-sha">{{.SHA}}</a>
                        <span class="commit-author">{{.Author}}</span>
                        <span class="commit-date">{{.Timestamp.Format "Jan 2, 2006 15:04"}}</span>
                        <span class="merge-badge">merge</span>
                    </summary>
                    <div class="commit-message">{{.Message}}</div>
                </details>
                {{else}}
                <div class="commit-card">
                    <div class="commit-header">
                        <a href="{{.URL}}" target="_blank" class="commit-sha">{{.SHA}}</a>
                        <span class="commit-author">{{.Author}}</span>
                        <span class="commit-date">{{.Timestamp.Format "Jan 2, 2006 15:04"}}</span>
                    </div>
                    <div class="commit-message">{{.Message}}</div>
                </div>
                {{end}}
                {{end}}
            </div>
            {{else}}
            <div class="no-commits">
                <p>ðŸŽ‰ No unreleased commits! The {{.DefaultBranch}} branch is up to date with the latest release.</p>
            </div>
            {{end}}
    </main>
    <footer>
        <p>
            <a href="https://github.com/UnitVectorY-Labs">UnitVectorY Labs</a> | 
            <a href="https://opensource.org/licenses/MIT">MIT License</a> | 
            <a href="https://github.com/UnitVectorY-Labs/unreleasedcommits"><strong>unreleasedcommits</strong> on GitHub</a>
        </p>
        {{if .LastUpdated}}
        <p class="last-updated">Last updated: {{.LastUpdated}}</p>
        {{end}}
    </footer>

</body>
</html>
